# This is a registry of files that can be used as node inputs or for storing node outputs.
#
# When defining node inputs in the pipeline, reference a key from this yaml to indicate
# that the pipeline should map the file defined here to the node's input at runtime.
# Similarly, node outputs can be mapped and persisted to files defined in this yaml.
#
# Please see the Kedro Data Catalog documentation to learn more
# https://docs.kedro.org/en/stable/data/data_catalog.html

get_data_pipeline.time_series_data:
    type: pandas.CSVDataset
    filepath: data/outputs/time_series_data.csv
    
get_data_pipeline.metadata:
    type: pandas.CSVDataset
    filepath: data/outputs/metadata.csv

get_data_pipeline.use_case_id:
  type: text.TextDataset
  filepath: data/outputs/use_case_id.txt

deploy_forecast.use_case_id:
  type: text.TextDataset
  filepath: data/outputs/use_case_id.txt

deploy_forecast.dataset_id:
  type: text.TextDataset
  filepath: data/outputs/dataset_id.txt

project_id:
  type: text.TextDataset
  filepath: data/outputs/project_id.txt

# We store certain variables like these to ensure that certain nodes have run
#  before other nodes in the pipeline.
get_data_pipeline.metadataset_name:
  type: text.TextDataset
  filepath: data/outputs/metadataset_name.txt

get_data_pipeline.timeseries_dataset_name:
  type: text.TextDataset
  filepath: data/outputs/timeseries_dataset_name.txt

scoring_data:
  type: pandas.CSVDataset
  filepath: data/outputs/scoring_data.csv

deploy_forecast.scoring_code:
  type: datarobotx.idp.common.archive_dataset.ArchiveDataset
  filepath: data/outputs/scoring_code.tar.gz

# ===========================
# Streamlit custom app assets
# ===========================

# TODO: Not using assistant right now.
# {% if cookiecutter.gen_ai_experience_type == 'assistant' %}
# deploy_streamlit_app.ai_assistant:
#   type: kedro_datasets.text.TextDataset
#   filepath: include/{{ cookiecutter.python_package }}/app/ai_assistant.py

# deploy_streamlit_app.app_human_svg:
#   type: kedro_datasets.text.TextDataset
#   filepath: include/{{ cookiecutter.python_package }}/app/human.svg

# deploy_streamlit_app.app_robot_svg:
#   type: kedro_datasets.text.TextDataset
#   filepath: include/{{ cookiecutter.python_package }}/app/robot.svg
# {%- endif %}

deploy_streamlit_app.app_code:
  type: kedro_datasets.text.TextDataset
  filepath: include/{{ cookiecutter.python_package }}/app/app.py

deploy_streamlit_app.app_helpers:
  type: kedro_datasets.text.TextDataset
  filepath: include/{{ cookiecutter.python_package }}/app/helpers.py

deploy_streamlit_app.app_dockerfile:
  type: kedro_datasets.text.TextDataset
  filepath: include/{{ cookiecutter.python_package }}/app/Dockerfile

deploy_streamlit_app.app_requirements:
  type: kedro_datasets.text.TextDataset
  filepath: include/{{ cookiecutter.python_package }}/app/requirements.txt

deploy_streamlit_app.app_config:
  type: kedro_datasets.text.TextDataset
  filepath: include/{{ cookiecutter.python_package }}/app/.streamlit/config.toml

deploy_streamlit_app.app_secrets:
  type: kedro_datasets.text.TextDataset
  filepath: include/{{ cookiecutter.python_package }}/app/.streamlit/secrets-template.toml

deploy_streamlit_app.app_logo:
  type: kedro_datasets.pillow.ImageDataset
  filepath: include/{{ cookiecutter.python_package }}/app/DataRobot.png

deploy_streamlit_app.app_style:
  type: kedro_datasets.text.TextDataset
  filepath: include/{{ cookiecutter.python_package }}/app/style.css

deploy_streamlit_app.app_parameters:
  type: kedro_datasets.yaml.YAMLDataset
  filepath: data/outputs/app_parameters.yaml

deploy_streamlit_app.app_assets:
  type: datarobotx.idp.common.archive_dataset.ArchiveDataset
  filepath: data/outputs/app_assets.tar.gz

deploy_streamlit_app.app_execution_environment_id:
  type: kedro_datasets.text.TextDataset
  filepath: data/outputs/app_execution_environment_id.txt

deploy_streamlit_app.app_execution_environment_version_id:
  type: kedro_datasets.text.TextDataset
  filepath: data/outputs/app_execution_environment_version_id.txt

deploy_streamlit_app.application_id:
  type: kedro_datasets.text.TextDataset
  filepath: data/outputs/app_id.txt